(this.webpackJsonpsalon=this.webpackJsonpsalon||[]).push([[0],{19:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),s=c(20),n=c.n(s),i=(c(28),c(11)),o=c(15),l=c(4),j=c(2),u=function(e){return e.sort((function(){return.5-Math.random()}))},b=["Pain","Sun","Moon","Dog","Cat","Tree","Life","Death","Justice","Loss","Gift","Truth","Lie","Child","Parent","Food","Grain","Stone","Earth","Sky","Fantasy","Science","Anger","Peace","Joy","Hurt","Sorrow","Grow","Walk"],h=["Hell","Heaven","Music","Table","Ocean","Tide","Stars","Flood","Courage","Grief","Knowledge","Fruit","Decay","Broken","Fly","Fall","Spring","Winter","Summer","Youth","Age","Horse","Time","Count","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000"],O=Object(a.createContext)(),d=c(9),m=(c(29),c(19),c(0)),f=function(e){var t=e.id,c=e.url,r=e.wallLocation,s=e.title,n=Object(a.useContext)(O),i=Object(l.a)(n,2);i[0],i[1];return Object(m.jsx)("section",{className:r,children:Object(m.jsx)(d.b,{to:"/".concat(t),children:Object(m.jsx)("img",{className:"wall-img",src:c,alt:s})})})},x=function(){var e=Object(a.useContext)(O),t=Object(l.a)(e,2),c=t[0],r=(t[1],c.wallDisplay.map((function(e,t){if(e.primaryImageSmall)return Object(m.jsx)(f,{wallLocation:"div".concat(t+1),id:e.objectID,title:e.title,url:e.primaryImageSmall},e.objectID)})));return Object(m.jsxs)(m.Fragment,{children:[c.wallDisplay.length<7&&Object(m.jsx)("h3",{className:"loading",children:" Your display is being curated. "}),Object(m.jsxs)("h2",{className:"display-terms",children:["".concat(c.searchTerms[0]," & ").concat(c.searchTerms[1])," "]}),Object(m.jsx)("section",{className:"salon-template",children:r})]})},p=(c(39),function(){var e=Object(a.useContext)(O),t=Object(l.a)(e,2),c=(t[0],t[1]),r=Object(a.useState)("terms2"),s=Object(l.a)(r,2),n=s[0],i=s[1];return Object(m.jsxs)("header",{children:[Object(m.jsx)(d.b,{to:"/",children:Object(m.jsx)("button",{"data-cy":"home",className:"logo-container",children:Object(m.jsx)("h1",{children:"Salon"})})}),Object(m.jsxs)("section",{className:"user-buttons",children:[Object(m.jsx)(d.b,{to:"/",children:Object(m.jsx)("button",{"data-cy":"refresh",onClick:function(){var e=[];"terms1"===n?(e=u(b),i("terms2")):(e=u(h),i("terms1")),c({type:"UPDATE_TERMS",terms:e})},children:Object(m.jsx)("h2",{children:"see a new wall"})})}),Object(m.jsx)(d.b,{to:"/favorites",children:Object(m.jsx)("button",{"data-cy":"favorites",children:Object(m.jsx)("h2",{children:"favorites"})})})]})]})}),v=(c(40),function(e){var t=e.id,c=Object(a.useContext)(O),r=Object(l.a)(c,2),s=r[0],n=(r[1],s.wallDisplay.filter((function(e){return e.objectID===parseInt(t)}))),i=Object(a.useState)(s.favorites.includes(n[0])),o=Object(l.a)(i,2),j=o[0],u=o[1],b=function(){u(!j)};return Object(a.useEffect)((function(){var e;j&&!s.favorites.includes(n[0])?(e=n[0],s.favorites.unshift(e)):!j&&s.favorites.includes(n[0])&&function(e,t){var c=t,a=c.indexOf(e);c.splice(a,1)}(n[0],s.favorites)}),[j]),Object(m.jsx)(m.Fragment,{children:n.length?Object(m.jsxs)("section",{className:"art-details",children:[Object(m.jsx)("img",{className:"details-image",src:n[0].primaryImage,alt:"".concat(n[0].title," by ").concat(n[0].artistDisplayName)}),Object(m.jsxs)("div",{className:"details-content",children:[Object(m.jsxs)("aside",{children:[Object(m.jsxs)("h3",{children:['"',n[0].title,'"']}),Object(m.jsx)("p",{children:n[0].objectDate}),Object(m.jsx)("p",{children:n[0].artistDisplayName}),Object(m.jsx)("p",{children:n[0].medium})]}),Object(m.jsx)("div",{className:"fav-box",children:j?Object(m.jsx)("button",{onClick:b,className:"favorite",children:"\u2713 favorite"}):Object(m.jsx)("button",{onClick:b,className:"not-favorite",children:"+ favorite"})})]})]}):Object(m.jsx)("h2",{className:"error",children:"Something when wrong, please click the Salon logo to return to the home page."})})}),g=(c(41),function(e){var t=e.artwork,c=Object(a.useContext)(O),r=Object(l.a)(c,2);r[0],r[1];return Object(m.jsxs)("section",{className:"fav-grid-entry",children:[Object(m.jsx)(d.b,{className:"artwork",to:"/".concat(t.objectID),children:Object(m.jsx)("img",{className:"fav-img",src:t.primaryImageSmall})}),Object(m.jsx)("h5",{className:"title",children:t.title}),Object(m.jsx)("h5",{className:"date",children:t.objectDate}),Object(m.jsx)("h5",{className:"artist",children:t.artistDisplayName}),Object(m.jsx)("h5",{className:"medium",children:t.medium})]})}),y=(c(42),function(){var e=Object(a.useContext)(O),t=Object(l.a)(e,2),c=t[0],r=(t[1],[]);return c.favorites.length&&(r=c.favorites.map((function(e){return Object(m.jsx)(g,{artwork:e},e.objectID)}))),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("section",{className:"fav-grid-header",children:[Object(m.jsx)("h3",{className:"artwork",children:"Artwork"}),Object(m.jsx)("h3",{className:"title",children:"Title"}),Object(m.jsx)("h3",{className:"date",children:"Date"}),Object(m.jsx)("h3",{className:"artist",children:"Artist"}),Object(m.jsx)("h3",{className:"medium",children:"Medium"})]}),Object(m.jsxs)("section",{className:"fav-list",children:[!r.length&&Object(m.jsx)("p",{className:"error",children:"No favorites have been saved."}),r]})]})}),D=c(23),N=c(8),w=function(e,t){switch(t.type){case"UPDATE_IDS":return Object(N.a)(Object(N.a)({},e),{},{ids:t.ids});case"UPDATE_WALL":return Object(N.a)(Object(N.a)({},e),{},{wallDisplay:[].concat(Object(D.a)(e.wallDisplay),[t.newArt])});case"UPDATE_ERROR":return Object(N.a)(Object(N.a)({},e),{},{error:t.error});case"UPDATE_FAVORITE":return Object(N.a)(Object(N.a)({},e),{},{favorites:t.newFavorites});case"UPDATE_TERMS":return Object(N.a)(Object(N.a)({},e),{},{searchTerms:t.terms});case"CLEAR_WALL":return Object(N.a)(Object(N.a)({},e),{},{wallDisplay:t.clearDisplay});default:return e}},T=(c(43),{searchTerms:u(b),ids:[],wallDisplay:[],favorites:[],error:""}),A=function(){var e=Object(a.useReducer)(w,T),t=Object(l.a)(e,2),c=t[0],r=t[1],s=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var c,a,s,n,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=fetch("https://collectionapi.metmuseum.org/public/collection/v1/search?hasImages=true&isHighlighted=true&".concat(t)),e.next=4,c;case 4:return a=e.sent,e.next=7,a.json();case 7:s=e.sent,n=u(s.objectIDs),r({type:"UPDATE_IDS",ids:n}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),o={type:"UPDATE_ERROR",error:e.t0.message},r(o);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var c,a,s,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(t)),e.next=4,c;case 4:return a=e.sent,e.next=7,a.json();case 7:s=e.sent,r({type:"UPDATE_WALL",newArt:s}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),n={type:"UPDATE_ERROR",error:e.t0.message},r(n);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"CLEAR_WALL",clearDisplay:[]}),c.ids.filter((function(e,t){if(t<7)return e})).forEach((function(e){n(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e;s((e=c.searchTerms,"q=".concat(e[0],"&q=").concat(e[1])))}),[c.searchTerms]),Object(a.useEffect)((function(){b()}),[c.ids]),Object(m.jsx)(O.Provider,{value:[c,r],children:Object(m.jsxs)("main",{className:"App",children:[Object(m.jsx)(p,{}),c.error&&Object(m.jsxs)("p",{className:"error",children:[" ",c.error," "]}),Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(m.jsx)(x,{})}}),Object(m.jsx)(j.a,{exact:!0,path:"/favorites",render:function(){return Object(m.jsx)(y,{})}}),Object(m.jsx)(j.a,{exact:!0,path:"/:artPieceID",render:function(e){var t=e.match;return Object(m.jsx)(v,{id:t.params.artPieceID})}})]})]})})};n.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(d.a,{children:Object(m.jsx)(A,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.ae725086.chunk.js.map